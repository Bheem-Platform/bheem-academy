import{r as x,d as T,a as F,o as R,c as b,b as w,e as t,f as q,F as H,g as Z,w as ee,h as P,i as S,v as te,n as N,j as k,t as B,k as se,l as ae,m as oe,p as ne,q as ie}from"./vue-BYfO7Uwn.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}})();async function re(a){try{const o=await U();if(!o)return{success:!1,message:"Could not retrieve login token. Please refresh the page and try again."};const l=document.createElement("form");l.method="POST",l.action="/login/index.php",l.style.display="none";const r={username:a.username.toLowerCase().trim(),password:a.password,rememberusername:a.rememberMe?"1":"0",logintoken:o,anchor:location.hash};return Object.entries(r).forEach(([s,i])=>{const n=document.createElement("input");n.type="hidden",n.name=s,n.value=i,l.appendChild(n)}),document.body.appendChild(l),l.submit(),{success:!0,message:"Logging in..."}}catch(o){return console.error("Login error:",o),{success:!1,message:o.message||"An error occurred during login. Please try again."}}}async function le(){try{const a=await U();if(!a)return{success:!1,message:"Could not retrieve login token. Please refresh the page and try again."};const o=document.createElement("form");return o.method="POST",o.action="/login/index.php",o.style.display="none",Object.entries({username:"guest",password:"guest",logintoken:a}).forEach(([r,s])=>{const i=document.createElement("input");i.type="hidden",i.name=r,i.value=s,o.appendChild(i)}),document.body.appendChild(o),o.submit(),{success:!0,message:"Logging in as guest..."}}catch(a){return console.error("Guest login error:",a),{success:!1,message:"An error occurred during guest login."}}}async function U(){try{const a=await fetch("/login-vue/api/get-login-token.php",{method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}});if(!a.ok)return console.error("Failed to fetch login token from API:",a.status),"";const o=await a.json();return o.success&&o.logintoken?(console.log(o.message),o.logintoken):(console.warn("Login token not found in API response"),"")}catch(a){return console.error("Error getting login token:",a),""}}function de(){const a=x(!1),o=x(null),l=x(null);return{isAuthenticated:a,user:o,error:l,login:async n=>{l.value=null;try{const p=await re(n);if(!p.success)throw new Error(p.message||"Login failed");a.value=!0}catch(p){throw l.value=p.message||"An error occurred during login",p}},loginAsGuest:async()=>{l.value=null;try{const n=await le();if(!n.success)throw new Error(n.message||"Guest login failed");return n}catch(n){throw l.value=n.message||"An error occurred during guest login",n}},logout:()=>{a.value=!1,o.value=null,window.location.href="/login/logout.php"}}}function O(a){return!a||a.trim()===""?"Username is required":a.length<2?"Username must be at least 2 characters":a.length>100?"Username is too long":""}function j(a){return!a||a===""||a.length<1?"Password is required":""}const ce={class:"modern-login-page"},ue={class:"animated-background"},pe={class:"particles"},ve={class:"login-container-wrapper"},ge={class:"login-glass-card"},me={class:"form-group"},fe={class:"input-wrapper"},he={key:0,class:"error-text"},ye={class:"form-group"},be={class:"input-wrapper"},we=["type"],ke={key:0,class:"error-text"},xe={class:"form-options"},Me={class:"remember-checkbox"},Ge={key:0,class:"error-alert"},Ce=["disabled"],$e={key:0,class:"button-content"},Ae={key:1,class:"button-content"},Le=["disabled"],Ne=T({__name:"LoginPage",setup(a){const{login:o,loginAsGuest:l}=de(),r=F({username:"",password:"",rememberMe:!1}),s=F({username:"",password:""}),i=x(!1),n=x(!1),p=x(""),D=m=>{const e=Math.random()*4+2,d=Math.random()*20+10,A=Math.random()*5,f=Math.random()*100,u=Math.random()*100;return{width:`${e}px`,height:`${e}px`,left:`${f}%`,top:`${u}%`,animationDuration:`${d}s`,animationDelay:`${A}s`}},E=()=>{const m=document.querySelectorAll(".bg-image");if(m.length<4)return;const e=u=>{const c=u.getBoundingClientRect();return{x:c.left+c.width/2,y:c.top+c.height/2,width:c.width,height:c.height,left:c.left,right:c.right,top:c.top,bottom:c.bottom}},d=Array.from(m).map(u=>e(u)),A=(u,c)=>{const M=c.x-u.x,G=c.y-u.y,C=Math.atan2(G,M),$=Math.min(u.width,u.height)/2,h=u.x+Math.cos(C)*($+10),y=u.y+Math.sin(C)*($+10);return{x:h,y}},f=(u,c,M)=>{const G=document.querySelector(`.${u}`);if(G&&d[c]&&d[M]){const C=d[c],$=d[M],h=A(C,$),y=A($,C),v=y.x-h.x,g=y.y-h.y,L=Math.sqrt(v*v+g*g)*.2,W=h.x+g*L/Math.sqrt(v*v+g*g),J=h.y-v*L/Math.sqrt(v*v+g*g),Q=y.x+g*L/Math.sqrt(v*v+g*g),z=y.y-v*L/Math.sqrt(v*v+g*g),K=`M ${h.x} ${h.y} C ${W} ${J}, ${Q} ${z}, ${y.x} ${y.y}`;G.setAttribute("d",K),G.setAttribute("id",`path-${c+1}-${M+1}`)}};f("line-1-2",0,1),f("line-2-4",1,3),f("line-4-3",3,2),f("line-3-1",2,0),f("line-1-4",0,3),f("line-2-3",1,2)};R(()=>{setTimeout(E,100),setInterval(E,100)});const _=m=>{m==="username"?s.username=O(r.username):m==="password"&&(s.password=j(r.password))},V=()=>(s.username=O(r.username),s.password=j(r.password),!s.username&&!s.password),X=async()=>{if(p.value="",!!V()){n.value=!0;try{await o({username:r.username,password:r.password,rememberMe:r.rememberMe})}catch(m){p.value=m.message||"Invalid login credentials. Please try again.",n.value=!1}}},Y=async()=>{n.value=!0,p.value="";try{await l()}catch(m){p.value=m.message||"Guest login is not available.",n.value=!1}},I=()=>{alert("Cookies notice: This site uses cookies to ensure you get the best experience on our website.")};return(m,e)=>(w(),b("div",ce,[t("div",ue,[e[8]||(e[8]=q('<div class="bg-overlay" data-v-00938687></div><svg class="workflow-connections" xmlns="http://www.w3.org/2000/svg" data-v-00938687><defs data-v-00938687><linearGradient id="lineGradient1" x1="0%" y1="0%" x2="100%" y2="100%" data-v-00938687><stop offset="0%" style="stop-color:#667eea;stop-opacity:0.6;" data-v-00938687></stop><stop offset="50%" style="stop-color:#764ba2;stop-opacity:0.8;" data-v-00938687></stop><stop offset="100%" style="stop-color:#f093fb;stop-opacity:0.6;" data-v-00938687></stop></linearGradient><linearGradient id="lineGradient2" x1="100%" y1="0%" x2="0%" y2="100%" data-v-00938687><stop offset="0%" style="stop-color:#f093fb;stop-opacity:0.6;" data-v-00938687></stop><stop offset="50%" style="stop-color:#667eea;stop-opacity:0.8;" data-v-00938687></stop><stop offset="100%" style="stop-color:#764ba2;stop-opacity:0.6;" data-v-00938687></stop></linearGradient><filter id="glow" data-v-00938687><feGaussianBlur stdDeviation="3" result="coloredBlur" data-v-00938687></feGaussianBlur><feMerge data-v-00938687><feMergeNode in="coloredBlur" data-v-00938687></feMergeNode><feMergeNode in="SourceGraphic" data-v-00938687></feMergeNode></feMerge></filter></defs><path class="connection-line line-1-2" stroke="url(#lineGradient1)" data-v-00938687></path><path class="connection-line line-2-4" stroke="url(#lineGradient2)" data-v-00938687></path><path class="connection-line line-4-3" stroke="url(#lineGradient1)" data-v-00938687></path><path class="connection-line line-3-1" stroke="url(#lineGradient2)" data-v-00938687></path><path class="connection-line line-1-4" stroke="url(#lineGradient1)" data-v-00938687></path><path class="connection-line line-2-3" stroke="url(#lineGradient2)" data-v-00938687></path><circle class="flow-particle particle-1-2" r="4" fill="#667eea" data-v-00938687><animateMotion dur="8s" repeatCount="indefinite" data-v-00938687><mpath href="#path-1-2" data-v-00938687></mpath></animateMotion></circle><circle class="flow-particle particle-2-4" r="4" fill="#f093fb" data-v-00938687><animateMotion dur="10s" repeatCount="indefinite" data-v-00938687><mpath href="#path-2-4" data-v-00938687></mpath></animateMotion></circle><circle class="flow-particle particle-4-3" r="4" fill="#764ba2" data-v-00938687><animateMotion dur="9s" repeatCount="indefinite" data-v-00938687><mpath href="#path-4-3" data-v-00938687></mpath></animateMotion></circle><circle class="flow-particle particle-3-1" r="4" fill="#667eea" data-v-00938687><animateMotion dur="11s" repeatCount="indefinite" data-v-00938687><mpath href="#path-3-1" data-v-00938687></mpath></animateMotion></circle></svg><div class="floating-images" data-v-00938687><div class="bg-image image-1" data-node="1" data-v-00938687><div class="node-indicator" data-v-00938687><div class="node-pulse" data-v-00938687></div><div class="node-dot" data-v-00938687></div><div class="node-label" data-v-00938687>Node 1</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/05f05403-bb6c-45af-6d4a-8e2656951f00/public" alt="Background 1" data-v-00938687></div><div class="bg-image image-2" data-node="2" data-v-00938687><div class="node-indicator" data-v-00938687><div class="node-pulse" data-v-00938687></div><div class="node-dot" data-v-00938687></div><div class="node-label" data-v-00938687>Node 2</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/0932ca04-4388-4f6e-fcdd-9cd13f451300/public" alt="Background 2" data-v-00938687></div><div class="bg-image image-3" data-node="3" data-v-00938687><div class="node-indicator" data-v-00938687><div class="node-pulse" data-v-00938687></div><div class="node-dot" data-v-00938687></div><div class="node-label" data-v-00938687>Node 3</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/33f62e15-35d5-4ca5-5077-b0076e244b00/public" alt="Background 3" data-v-00938687></div><div class="bg-image image-4" data-node="4" data-v-00938687><div class="node-indicator" data-v-00938687><div class="node-pulse" data-v-00938687></div><div class="node-dot" data-v-00938687></div><div class="node-label" data-v-00938687>Node 4</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/90a4f6ec-2bdb-4a76-20d3-505cdfaf9700/public" alt="Kodee" data-v-00938687></div><div class="bg-image image-5" data-node="5" data-v-00938687><div class="node-indicator" data-v-00938687><div class="node-pulse" data-v-00938687></div><div class="node-dot" data-v-00938687></div><div class="node-label" data-v-00938687>Node 5</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/0dafe680-5c75-4f2e-556e-cf90d10ff100/public" alt="Bheem Cloud" data-v-00938687></div></div><div class="gradient-overlay" data-v-00938687></div>',4)),t("div",pe,[(w(),b(H,null,Z(15,d=>t("div",{class:"particle",key:d,style:oe(D())},null,4)),64))]),e[9]||(e[9]=t("div",{class:"light-rays"},[t("div",{class:"ray ray-1"}),t("div",{class:"ray ray-2"}),t("div",{class:"ray ray-3"})],-1))]),t("div",ve,[t("div",ge,[e[23]||(e[23]=q('<div class="logo-section" data-v-00938687><div class="logo-circle" data-v-00938687><img src="https://dev.bheem.cloud/pluginfile.php?file=%2F1%2Ftheme_edoo%2Fmain_logo%2F-1%2Flogo.png" alt="Bheem Academy" class="logo-image" data-v-00938687></div><h1 class="welcome-title" data-v-00938687> Welcome to <span class="gradient-text" data-v-00938687>Bheem Academy</span></h1><p class="welcome-subtitle" data-v-00938687>AI-Driven Learning for a Smarter Future</p></div>',1)),t("form",{onSubmit:ee(X,["prevent"]),class:"modern-login-form",novalidate:""},[t("div",me,[t("div",fe,[e[10]||(e[10]=t("div",{class:"input-icon"},[t("i",{class:"fas fa-user"})],-1)),S(t("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=d=>r.username=d),class:N(["modern-input",{"has-error":s.username}]),placeholder:"Username",autocomplete:"username",onBlur:e[1]||(e[1]=d=>_("username")),onFocus:e[2]||(e[2]=d=>s.username="")},null,34),[[te,r.username]])]),s.username?(w(),b("div",he,[e[11]||(e[11]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),k(" "+B(s.username),1)])):P("",!0)]),t("div",ye,[t("div",be,[e[12]||(e[12]=t("div",{class:"input-icon"},[t("i",{class:"fas fa-lock"})],-1)),S(t("input",{type:i.value?"text":"password",id:"password","onUpdate:modelValue":e[3]||(e[3]=d=>r.password=d),class:N(["modern-input",{"has-error":s.password}]),placeholder:"Password",autocomplete:"current-password",onBlur:e[4]||(e[4]=d=>_("password")),onFocus:e[5]||(e[5]=d=>s.password="")},null,42,we),[[se,r.password]]),t("button",{type:"button",class:"password-toggle",onClick:e[6]||(e[6]=d=>i.value=!i.value),tabindex:"-1"},[t("i",{class:N(i.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),s.password?(w(),b("div",ke,[e[13]||(e[13]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),k(" "+B(s.password),1)])):P("",!0)]),t("div",xe,[t("label",Me,[S(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=d=>r.rememberMe=d)},null,512),[[ae,r.rememberMe]]),e[14]||(e[14]=t("span",{class:"checkmark"},null,-1)),e[15]||(e[15]=t("span",{class:"checkbox-label"},"Remember me",-1))]),e[16]||(e[16]=t("a",{href:"/login/forgot_password.php",class:"forgot-link"}," Lost password? ",-1))]),p.value?(w(),b("div",Ge,[e[17]||(e[17]=t("i",{class:"fas fa-exclamation-triangle"},null,-1)),t("span",null,B(p.value),1)])):P("",!0),t("button",{type:"submit",class:N(["login-button",{loading:n.value}]),disabled:n.value},[n.value?(w(),b("span",Ae,[...e[19]||(e[19]=[t("span",{class:"spinner"},null,-1),k(" Logging in... ",-1)])])):(w(),b("span",$e,[...e[18]||(e[18]=[t("i",{class:"fas fa-sign-in-alt"},null,-1),k(" Log in ",-1)])]))],10,Ce),e[21]||(e[21]=t("div",{class:"divider"},[t("span",null,"or")],-1)),t("button",{type:"button",onClick:Y,class:"guest-button",disabled:n.value},[...e[20]||(e[20]=[t("i",{class:"fas fa-user-shield"},null,-1),k(" Access as a guest ",-1)])],8,Le)],32),t("div",{class:"card-footer"},[t("button",{type:"button",class:"cookies-link",onClick:I},[...e[22]||(e[22]=[t("i",{class:"fas fa-cookie-bite"},null,-1),k(" Cookies notice ",-1)])])])]),e[24]||(e[24]=t("div",{class:"decorative-elements"},[t("div",{class:"deco-circle circle-1"}),t("div",{class:"deco-circle circle-2"}),t("div",{class:"deco-circle circle-3"})],-1))])]))}}),Pe=(a,o)=>{const l=a.__vccOpts||a;for(const[r,s]of o)l[r]=s;return l},Se=Pe(Ne,[["__scopeId","data-v-00938687"]]),Be={id:"app",class:"app-container"},Ee=T({__name:"App",setup(a){return(o,l)=>(w(),b("div",Be,[ne(Se)]))}}),_e=ie(Ee);_e.mount("#app");
//# sourceMappingURL=index-Dx46B-AN.js.map
