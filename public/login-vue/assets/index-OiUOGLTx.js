import{r as x,d as q,a as S,o as Q,c as h,b,e as a,f as _,F as z,g as R,w as K,h as A,i as L,v as H,n as G,j as k,t as P,k as Z,l as ee,m as ae,p as te,q as se}from"./vue-BYfO7Uwn.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}})();async function oe(s){try{const o=await O();if(!o)return{success:!1,message:"Could not retrieve login token. Please refresh the page and try again."};const l=document.createElement("form");l.method="POST",l.action="/login/index.php",l.style.display="none";const i={username:s.username.toLowerCase().trim(),password:s.password,rememberusername:s.rememberMe?"1":"0",logintoken:o,anchor:location.hash};return Object.entries(i).forEach(([t,r])=>{const n=document.createElement("input");n.type="hidden",n.name=t,n.value=r,l.appendChild(n)}),document.body.appendChild(l),l.submit(),{success:!0,message:"Logging in..."}}catch(o){return console.error("Login error:",o),{success:!1,message:o.message||"An error occurred during login. Please try again."}}}async function ne(){try{const s=await O();if(!s)return{success:!1,message:"Could not retrieve login token. Please refresh the page and try again."};const o=document.createElement("form");return o.method="POST",o.action="/login/index.php",o.style.display="none",Object.entries({username:"guest",password:"guest",logintoken:s}).forEach(([i,t])=>{const r=document.createElement("input");r.type="hidden",r.name=i,r.value=t,o.appendChild(r)}),document.body.appendChild(o),o.submit(),{success:!0,message:"Logging in as guest..."}}catch(s){return console.error("Guest login error:",s),{success:!1,message:"An error occurred during guest login."}}}async function O(){try{const s=await fetch("/login-vue/api/get-login-token.php",{method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}});if(!s.ok)return console.error("Failed to fetch login token from API:",s.status),"";const o=await s.json();return o.success&&o.logintoken?(console.log(o.message),o.logintoken):(console.warn("Login token not found in API response"),"")}catch(s){return console.error("Error getting login token:",s),""}}function re(){const s=x(!1),o=x(null),l=x(null);return{isAuthenticated:s,user:o,error:l,login:async n=>{l.value=null;try{const d=await oe(n);if(!d.success)throw new Error(d.message||"Login failed");s.value=!0}catch(d){throw l.value=d.message||"An error occurred during login",d}},loginAsGuest:async()=>{l.value=null;try{const n=await ne();if(!n.success)throw new Error(n.message||"Guest login failed");return n}catch(n){throw l.value=n.message||"An error occurred during guest login",n}},logout:()=>{s.value=!1,o.value=null,window.location.href="/login/logout.php"}}}function F(s){return!s||s.trim()===""?"Username is required":s.length<2?"Username must be at least 2 characters":s.length>100?"Username is too long":""}function E(s){return!s||s===""||s.length<1?"Password is required":""}const ie={class:"modern-login-page"},le={class:"animated-background"},ce={class:"particles"},de={class:"login-container-wrapper"},ue={class:"login-glass-card"},pe={class:"form-group"},ve={class:"input-wrapper"},me={key:0,class:"error-text"},ge={class:"form-group"},fe={class:"input-wrapper"},ye=["type"],he={key:0,class:"error-text"},be={class:"form-options"},we={class:"remember-checkbox"},ke={key:0,class:"error-alert"},xe=["disabled"],Me={key:0,class:"button-content"},Ge={key:1,class:"button-content"},Ce=["disabled"],$e=q({__name:"LoginPage",setup(s){const{login:o,loginAsGuest:l}=re(),i=S({username:"",password:"",rememberMe:!1}),t=S({username:"",password:""}),r=x(!1),n=x(!1),d=x(""),T=v=>{const e=Math.random()*4+2,c=Math.random()*20+10,g=Math.random()*5,w=Math.random()*100,m=Math.random()*100;return{width:`${e}px`,height:`${e}px`,left:`${w}%`,top:`${m}%`,animationDuration:`${c}s`,animationDelay:`${g}s`}},N=()=>{const v=document.querySelectorAll(".bg-image");if(v.length<4)return;const e=w=>{const m=w.getBoundingClientRect();return{x:m.left+m.width/2,y:m.top+m.height/2}},c=Array.from(v).map(w=>e(w)),g=(w,m,C)=>{const $=document.querySelector(`.${w}`);if($&&c[m]&&c[C]){const f=c[m],y=c[C];(f.x+y.x)/2,(f.y+y.y)/2;const u=y.x-f.x,p=y.y-f.y,M=Math.sqrt(u*u+p*p)*.2,I=f.x+p*M/Math.sqrt(u*u+p*p),X=f.y-u*M/Math.sqrt(u*u+p*p),Y=y.x+p*M/Math.sqrt(u*u+p*p),W=y.y-u*M/Math.sqrt(u*u+p*p),J=`M ${f.x} ${f.y} C ${I} ${X}, ${Y} ${W}, ${y.x} ${y.y}`;$.setAttribute("d",J),$.setAttribute("id",`path-${m+1}-${C+1}`)}};g("line-1-2",0,1),g("line-2-4",1,3),g("line-4-3",3,2),g("line-3-1",2,0),g("line-1-4",0,3),g("line-2-3",1,2)};Q(()=>{setTimeout(N,100),setInterval(N,100)});const B=v=>{v==="username"?t.username=F(i.username):v==="password"&&(t.password=E(i.password))},j=()=>(t.username=F(i.username),t.password=E(i.password),!t.username&&!t.password),U=async()=>{if(d.value="",!!j()){n.value=!0;try{await o({username:i.username,password:i.password,rememberMe:i.rememberMe})}catch(v){d.value=v.message||"Invalid login credentials. Please try again.",n.value=!1}}},D=async()=>{n.value=!0,d.value="";try{await l()}catch(v){d.value=v.message||"Guest login is not available.",n.value=!1}},V=()=>{alert("Cookies notice: This site uses cookies to ensure you get the best experience on our website.")};return(v,e)=>(b(),h("div",ie,[a("div",le,[e[8]||(e[8]=_('<div class="bg-overlay" data-v-5e268ac1></div><svg class="workflow-connections" xmlns="http://www.w3.org/2000/svg" data-v-5e268ac1><defs data-v-5e268ac1><linearGradient id="lineGradient1" x1="0%" y1="0%" x2="100%" y2="100%" data-v-5e268ac1><stop offset="0%" style="stop-color:#667eea;stop-opacity:0.6;" data-v-5e268ac1></stop><stop offset="50%" style="stop-color:#764ba2;stop-opacity:0.8;" data-v-5e268ac1></stop><stop offset="100%" style="stop-color:#f093fb;stop-opacity:0.6;" data-v-5e268ac1></stop></linearGradient><linearGradient id="lineGradient2" x1="100%" y1="0%" x2="0%" y2="100%" data-v-5e268ac1><stop offset="0%" style="stop-color:#f093fb;stop-opacity:0.6;" data-v-5e268ac1></stop><stop offset="50%" style="stop-color:#667eea;stop-opacity:0.8;" data-v-5e268ac1></stop><stop offset="100%" style="stop-color:#764ba2;stop-opacity:0.6;" data-v-5e268ac1></stop></linearGradient><filter id="glow" data-v-5e268ac1><feGaussianBlur stdDeviation="3" result="coloredBlur" data-v-5e268ac1></feGaussianBlur><feMerge data-v-5e268ac1><feMergeNode in="coloredBlur" data-v-5e268ac1></feMergeNode><feMergeNode in="SourceGraphic" data-v-5e268ac1></feMergeNode></feMerge></filter></defs><path class="connection-line line-1-2" stroke="url(#lineGradient1)" data-v-5e268ac1></path><path class="connection-line line-2-4" stroke="url(#lineGradient2)" data-v-5e268ac1></path><path class="connection-line line-4-3" stroke="url(#lineGradient1)" data-v-5e268ac1></path><path class="connection-line line-3-1" stroke="url(#lineGradient2)" data-v-5e268ac1></path><path class="connection-line line-1-4" stroke="url(#lineGradient1)" data-v-5e268ac1></path><path class="connection-line line-2-3" stroke="url(#lineGradient2)" data-v-5e268ac1></path><circle class="flow-particle particle-1-2" r="4" fill="#667eea" data-v-5e268ac1><animateMotion dur="8s" repeatCount="indefinite" data-v-5e268ac1><mpath href="#path-1-2" data-v-5e268ac1></mpath></animateMotion></circle><circle class="flow-particle particle-2-4" r="4" fill="#f093fb" data-v-5e268ac1><animateMotion dur="10s" repeatCount="indefinite" data-v-5e268ac1><mpath href="#path-2-4" data-v-5e268ac1></mpath></animateMotion></circle><circle class="flow-particle particle-4-3" r="4" fill="#764ba2" data-v-5e268ac1><animateMotion dur="9s" repeatCount="indefinite" data-v-5e268ac1><mpath href="#path-4-3" data-v-5e268ac1></mpath></animateMotion></circle><circle class="flow-particle particle-3-1" r="4" fill="#667eea" data-v-5e268ac1><animateMotion dur="11s" repeatCount="indefinite" data-v-5e268ac1><mpath href="#path-3-1" data-v-5e268ac1></mpath></animateMotion></circle></svg><div class="floating-images" data-v-5e268ac1><div class="bg-image image-1" data-node="1" data-v-5e268ac1><div class="node-indicator" data-v-5e268ac1><div class="node-pulse" data-v-5e268ac1></div><div class="node-dot" data-v-5e268ac1></div><div class="node-label" data-v-5e268ac1>Node 1</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/05f05403-bb6c-45af-6d4a-8e2656951f00/public" alt="Background 1" data-v-5e268ac1></div><div class="bg-image image-2" data-node="2" data-v-5e268ac1><div class="node-indicator" data-v-5e268ac1><div class="node-pulse" data-v-5e268ac1></div><div class="node-dot" data-v-5e268ac1></div><div class="node-label" data-v-5e268ac1>Node 2</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/0932ca04-4388-4f6e-fcdd-9cd13f451300/public" alt="Background 2" data-v-5e268ac1></div><div class="bg-image image-3" data-node="3" data-v-5e268ac1><div class="node-indicator" data-v-5e268ac1><div class="node-pulse" data-v-5e268ac1></div><div class="node-dot" data-v-5e268ac1></div><div class="node-label" data-v-5e268ac1>Node 3</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/33f62e15-35d5-4ca5-5077-b0076e244b00/public" alt="Background 3" data-v-5e268ac1></div><div class="bg-image image-4" data-node="4" data-v-5e268ac1><div class="node-indicator" data-v-5e268ac1><div class="node-pulse" data-v-5e268ac1></div><div class="node-dot" data-v-5e268ac1></div><div class="node-label" data-v-5e268ac1>Node 4</div></div><img src="https://imagedelivery.net/GSYWs1kbpG8XypJe3mjC0Q/90a4f6ec-2bdb-4a76-20d3-505cdfaf9700/public" alt="Background 4" data-v-5e268ac1></div></div><div class="gradient-overlay" data-v-5e268ac1></div>',4)),a("div",ce,[(b(),h(z,null,R(15,c=>a("div",{class:"particle",key:c,style:ae(T())},null,4)),64))]),e[9]||(e[9]=a("div",{class:"light-rays"},[a("div",{class:"ray ray-1"}),a("div",{class:"ray ray-2"}),a("div",{class:"ray ray-3"})],-1))]),a("div",de,[a("div",ue,[e[23]||(e[23]=_('<div class="logo-section" data-v-5e268ac1><div class="logo-circle" data-v-5e268ac1><img src="https://dev.bheem.cloud/pluginfile.php?file=%2F1%2Ftheme_edoo%2Fmain_logo%2F-1%2Flogo.png" alt="Bheem Academy" class="logo-image" data-v-5e268ac1></div><h1 class="welcome-title" data-v-5e268ac1> Welcome to <span class="gradient-text" data-v-5e268ac1>Bheem Academy</span></h1><p class="welcome-subtitle" data-v-5e268ac1>AI-Driven Learning for a Smarter Future</p></div>',1)),a("form",{onSubmit:K(U,["prevent"]),class:"modern-login-form",novalidate:""},[a("div",pe,[a("div",ve,[e[10]||(e[10]=a("div",{class:"input-icon"},[a("i",{class:"fas fa-user"})],-1)),L(a("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=c=>i.username=c),class:G(["modern-input",{"has-error":t.username}]),placeholder:"Username",autocomplete:"username",onBlur:e[1]||(e[1]=c=>B("username")),onFocus:e[2]||(e[2]=c=>t.username="")},null,34),[[H,i.username]])]),t.username?(b(),h("div",me,[e[11]||(e[11]=a("i",{class:"fas fa-exclamation-circle"},null,-1)),k(" "+P(t.username),1)])):A("",!0)]),a("div",ge,[a("div",fe,[e[12]||(e[12]=a("div",{class:"input-icon"},[a("i",{class:"fas fa-lock"})],-1)),L(a("input",{type:r.value?"text":"password",id:"password","onUpdate:modelValue":e[3]||(e[3]=c=>i.password=c),class:G(["modern-input",{"has-error":t.password}]),placeholder:"Password",autocomplete:"current-password",onBlur:e[4]||(e[4]=c=>B("password")),onFocus:e[5]||(e[5]=c=>t.password="")},null,42,ye),[[Z,i.password]]),a("button",{type:"button",class:"password-toggle",onClick:e[6]||(e[6]=c=>r.value=!r.value),tabindex:"-1"},[a("i",{class:G(r.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),t.password?(b(),h("div",he,[e[13]||(e[13]=a("i",{class:"fas fa-exclamation-circle"},null,-1)),k(" "+P(t.password),1)])):A("",!0)]),a("div",be,[a("label",we,[L(a("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=c=>i.rememberMe=c)},null,512),[[ee,i.rememberMe]]),e[14]||(e[14]=a("span",{class:"checkmark"},null,-1)),e[15]||(e[15]=a("span",{class:"checkbox-label"},"Remember me",-1))]),e[16]||(e[16]=a("a",{href:"/login/forgot_password.php",class:"forgot-link"}," Lost password? ",-1))]),d.value?(b(),h("div",ke,[e[17]||(e[17]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),a("span",null,P(d.value),1)])):A("",!0),a("button",{type:"submit",class:G(["login-button",{loading:n.value}]),disabled:n.value},[n.value?(b(),h("span",Ge,[...e[19]||(e[19]=[a("span",{class:"spinner"},null,-1),k(" Logging in... ",-1)])])):(b(),h("span",Me,[...e[18]||(e[18]=[a("i",{class:"fas fa-sign-in-alt"},null,-1),k(" Log in ",-1)])]))],10,xe),e[21]||(e[21]=a("div",{class:"divider"},[a("span",null,"or")],-1)),a("button",{type:"button",onClick:D,class:"guest-button",disabled:n.value},[...e[20]||(e[20]=[a("i",{class:"fas fa-user-shield"},null,-1),k(" Access as a guest ",-1)])],8,Ce)],32),a("div",{class:"card-footer"},[a("button",{type:"button",class:"cookies-link",onClick:V},[...e[22]||(e[22]=[a("i",{class:"fas fa-cookie-bite"},null,-1),k(" Cookies notice ",-1)])])])]),e[24]||(e[24]=a("div",{class:"decorative-elements"},[a("div",{class:"deco-circle circle-1"}),a("div",{class:"deco-circle circle-2"}),a("div",{class:"deco-circle circle-3"})],-1))])]))}}),Ae=(s,o)=>{const l=s.__vccOpts||s;for(const[i,t]of o)l[i]=t;return l},Le=Ae($e,[["__scopeId","data-v-5e268ac1"]]),Pe={id:"app",class:"app-container"},Ne=q({__name:"App",setup(s){return(o,l)=>(b(),h("div",Pe,[te(Le)]))}}),Be=se(Ne);Be.mount("#app");
//# sourceMappingURL=index-OiUOGLTx.js.map
